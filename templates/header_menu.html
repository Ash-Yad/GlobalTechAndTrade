<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}GlobalTechAndTrade | IT Solutions & Import Export Services{% endblock %}</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="GlobalTechAndTrade offers professional IT solutions, mobile app development, web development, and import/export services. Serving businesses in India, Africa, and Middle East.">
    <meta name="keywords" content="IT solutions, mobile app development, web development, import export, software development, India, Africa, Zambia, global trade, custom software, ERP, CRM">
    <meta name="author" content="GlobalTechAndTrade">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://www.globaltechandtrade.com/">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.globaltechandtrade.com/">
    <meta property="og:title" content="GlobalTechAndTrade | IT Solutions & Import Export Services">
    <meta property="og:description" content="Professional IT solutions and global trade services. Mobile apps, web development, and import/export across India, Africa & Middle East.">
    <meta property="og:image" content="https://www.globaltechandtrade.com/static/images/og-image.jpg">
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://www.globaltechandtrade.com/">
    <meta name="twitter:title" content="GlobalTechAndTrade | IT Solutions & Import Export Services">
    <meta name="twitter:description" content="Professional IT solutions and global trade services. Mobile apps, web development, and import/export across India, Africa & Middle East.">

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='images/favicon.png') }}">
    <link rel="apple-touch-icon" href="{{ url_for('static', filename='images/favicon.png') }}">

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-CXVT183KZE"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-CXVT183KZE');
    </script>

    <!-- Tailwind CSS - Production Build -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- AOS Animation Library -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <style>
        /* GLOBAL FIX: Force all page content into a single stacking context */
        body > *:not(#chat-toggle):not(#chat-backdrop):not(#chat-window):not(script):not(style) {
            position: relative;
            z-index: 0 !important;
        }
        
        /* Wrap main content in a lower layer */
        main, section, .hero-section, article, aside {
            z-index: 0 !important;
        }
        
        /* Reset z-index on elements that shouldn't create stacking contexts above chatbot */
        [class*="z-10"], [class*="z-20"], [class*="z-30"], [class*="z-40"], [class*="z-50"] {
            z-index: 0 !important;
        }
        
        /* Force chatbot elements to absolute top layer - using max safe integer */
        #chat-toggle {
            z-index: 2147483647 !important;
            position: fixed !important;
        }
        #chat-backdrop {
            z-index: 2147483646 !important;
            position: fixed !important;
        }
        #chat-window {
            z-index: 2147483647 !important;
            position: fixed !important;
            isolation: isolate !important;
            contain: layout paint !important;
        }
        
        /* Ensure chatbot has completely opaque backgrounds */
        #chat-window,
        #chat-window .chatbot-container {
            background-color: #ffffff !important;
            background: #ffffff !important;
        }
        
        /* Send button must stay blue */
        #chat-form button[type="submit"] {
            background: linear-gradient(to bottom right, #2563eb, #1d4ed8) !important;
            background-color: #2563eb !important;
            color: white !important;
        }
        #chat-form button[type="submit"]:hover {
            background: linear-gradient(to bottom right, #1d4ed8, #1e40af) !important;
        }
        
        /* Chat scrollbar styling - always visible */
        #chat-messages {
            overflow-y: scroll !important;
        }
        #chat-messages::-webkit-scrollbar {
            width: 8px;
            display: block !important;
        }
        #chat-messages::-webkit-scrollbar-track {
            background: #e2e8f0;
            border-radius: 4px;
        }
        #chat-messages::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, #3b82f6, #1d4ed8);
            border-radius: 4px;
            min-height: 40px;
        }
        #chat-messages::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(180deg, #2563eb, #1e40af);
        }
        
        /* Modern Professional Theme */
        .gradient-text {
            background: linear-gradient(135deg, #0052CC 0%, #003D99 50%, #0052CC 100%);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradient 8s ease infinite;
        }

        .gradient-text-light {
            background: linear-gradient(135deg, #60A5FA, #3B82F6, #60A5FA);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradient 6s ease infinite;
        }

        .gradient-bg {
            background: linear-gradient(135deg, #0052CC 0%, #003D99 100%);
        }

        .gradient-bg-animated {
            background: linear-gradient(135deg, #0052CC, #003D99, #0052CC);
            background-size: 200% 200%;
            animation: gradient 8s ease infinite;
        }

        /* Premium Glass Morphism */
        .glass {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.4);
        }

        .glass-dark {
            background: rgba(10, 22, 40, 0.85);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Navigation */
        .nav-blur {
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
        }

        .active-nav {
            color: #0052CC !important;
            position: relative;
        }

        .active-nav::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 50%;
            transform: translateX(-50%);
            width: 6px;
            height: 6px;
            background: #0052CC;
            border-radius: 50%;
        }

        /* Premium Card Effects */
        .card-hover {
            transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .card-hover:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 25px 50px -12px rgba(0, 82, 204, 0.25);
        }

        .hover-lift {
            transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .hover-lift:hover {
            transform: translateY(-6px);
            box-shadow: 0 20px 40px -15px rgba(0, 82, 204, 0.3);
        }

        /* Glow Effects */
        .glow-primary {
            box-shadow: 0 0 30px rgba(0, 82, 204, 0.3);
        }

        .glow-accent {
            box-shadow: 0 0 30px rgba(255, 107, 53, 0.3);
        }

        /* Modern Button Styles */
        .btn-primary {
            background: linear-gradient(135deg, #0052CC, #003D99);
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s ease;
        }

        .btn-primary:hover::before {
            left: 100%;
        }

        .btn-accent {
            background: linear-gradient(135deg, #FF6B35, #E85A24);
            position: relative;
            overflow: hidden;
        }

        /* Shimmer Effect */
        .shimmer {
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            background-size: 200% 100%;
            animation: shimmer 2s infinite;
        }

        /* Section Dividers */
        .section-divider {
            position: relative;
        }

        .section-divider::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 4px;
            background: linear-gradient(90deg, #0052CC, #FF6B35);
            border-radius: 2px;
        }

        /* Footer Glow */
        .footer-glow {
            position: relative;
        }

        .footer-glow::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, #0052CC, #FF6B35, #0052CC, transparent);
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #F1F5F9;
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #0052CC, #003D99);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, #003D99, #0052CC);
        }

        /* Loading Animation */
        .loading-dots div {
            animation: loading 1.4s infinite;
        }

        @keyframes loading {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1); }
        }

        /* Smooth Transitions */
        * {
            transition-property: background-color, border-color, color, fill, stroke, opacity, box-shadow, transform;
            transition-duration: 0.2s;
            transition-timing-function: ease;
        }

        /* Focus Styles */
        *:focus-visible {
            outline: 2px solid #0052CC;
            outline-offset: 2px;
        }

        /* Text Selection */
        ::selection {
            background: #0052CC;
            color: white;
        }

        /* Mesh Background */
        .mesh-bg {
            background-color: #0A1628;
            background-image: 
                radial-gradient(at 40% 20%, rgba(0, 82, 204, 0.3) 0px, transparent 50%),
                radial-gradient(at 80% 0%, rgba(255, 107, 53, 0.2) 0px, transparent 50%),
                radial-gradient(at 0% 50%, rgba(0, 61, 153, 0.3) 0px, transparent 50%),
                radial-gradient(at 80% 50%, rgba(0, 82, 204, 0.2) 0px, transparent 50%),
                radial-gradient(at 0% 100%, rgba(255, 107, 53, 0.15) 0px, transparent 50%);
        }

        /* Noise Texture Overlay */
        .noise-overlay::after {
            content: '';
            position: absolute;
            inset: 0;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
            opacity: 0.03;
            pointer-events: none;
        }

        /* Stats Counter Animation */
        .stat-number {
            font-variant-numeric: tabular-nums;
        }

        /* Floating Elements */
        .float-element {
            animation: float 6s ease-in-out infinite;
        }

        .float-element-delayed {
            animation: float 6s ease-in-out infinite;
            animation-delay: -3s;
        }
    </style>

    <!-- Additional CSS Block -->
    {% block styles %}{% endblock %}
</head>

<body class="bg-slate-50 text-slate-900 font-sans antialiased overflow-x-hidden">

    <!-- Loading Spinner (hidden by default) -->
    <div id="loading-spinner" class="fixed inset-0 bg-white/80 backdrop-blur-sm z-[100] hidden items-center justify-center">
        <div class="text-center">
            <div class="w-20 h-20 border-4 border-primary/30 border-t-primary rounded-full animate-spin mx-auto"></div>
            <p class="mt-4 text-primary font-bold">Loading...</p>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="fixed top-0 left-0 right-0 z-50 nav-blur bg-white/80 border-b border-slate-100 transition-all duration-300" id="navbar">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-20">

                <!-- Logo -->
                <a href="/" class="flex items-center gap-2 flex-shrink-0">
                    <div class="w-9 h-9 sm:w-10 sm:h-10 rounded-xl bg-gradient-to-br from-primary to-secondary flex items-center justify-center shadow-lg flex-shrink-0">
                        <i class="fas fa-globe text-white text-sm sm:text-base"></i>
                    </div>
                    <span class="text-sm sm:text-lg md:text-xl font-black tracking-tight text-slate-900">
                        GLOBAL<span class="text-primary italic">TECH</span><span class="text-slate-700">ANDTRADE</span>
                    </span>
                </a>

                <!-- Desktop Menu - Clean navigation with no duplicate buttons -->
                <div class="hidden md:flex items-center gap-1">
                    <a href="/" class="px-4 py-2 rounded-xl text-sm font-bold text-slate-600 hover:text-primary transition-all {{ 'active-nav' if active == 'home' }}">
                        <i class="fas fa-home mr-1"></i>Home
                    </a>

                    <a href="/about" class="px-4 py-2 rounded-xl text-sm font-bold text-slate-600 hover:text-primary transition-all {{ 'active-nav' if active == 'about' }}">
                        <i class="fas fa-info-circle mr-1"></i>About Us
                    </a>

                    <!-- IT Solutions - Direct Link -->
                    <a href="/it-solutions" class="px-4 py-2 rounded-xl text-sm font-bold text-slate-600 hover:text-primary transition-all {{ 'active-nav' if active == 'it-solutions' }}">
                        <i class="fas fa-microchip mr-1"></i>IT Solutions
                    </a>

                    <!-- Import/Export - Direct Link (only once) -->
                    <a href="/import-export" class="px-4 py-2 rounded-xl text-sm font-bold text-slate-600 hover:text-primary transition-all {{ 'active-nav' if active == 'import-export' }}">
                        <i class="fas fa-ship mr-1"></i>Import/Export
                    </a>

                    <!-- Contact us - same page as Request freight quote (contact details) -->
                    <a href="/contact" class="px-4 py-2 rounded-xl text-sm font-bold text-slate-600 hover:text-primary transition-all {{ 'active-nav' if active == 'contact' }}">
                        <i class="fas fa-envelope mr-1"></i>Contact us
                    </a>
                </div>

                <!-- Right Section - Book Free Demo (opens popup) - HOT BUTTON -->
                <div class="flex items-center gap-4">
                    <a href="#" class="book-free-demo-trigger relative hidden md:flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-orange-500 via-red-500 to-pink-500 hover:from-pink-500 hover:via-red-500 hover:to-orange-500 text-white text-sm font-black rounded-full shadow-lg shadow-orange-500/40 hover:shadow-xl hover:shadow-red-500/50 hover:scale-105 transition-all duration-300 group animate-pulse hover:animate-none">
                        <span class="absolute -top-1 -right-1 flex h-3 w-3">
                            <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-yellow-400 opacity-75"></span>
                            <span class="relative inline-flex rounded-full h-3 w-3 bg-yellow-300"></span>
                        </span>
                        <i class="fas fa-fire text-yellow-300 animate-bounce"></i>
                        <span class="tracking-wide">Book Demo</span>
                        <i class="fas fa-arrow-right group-hover:translate-x-1 transition-transform"></i>
                    </a>

                    <!-- Mobile Menu Button -->
                    <button class="md:hidden w-10 h-10 flex items-center justify-center bg-slate-100 rounded-xl text-slate-900 hover:bg-primary hover:text-white transition-all" id="mobile-menu-btn">
                        <i class="fas fa-bars-staggered"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Menu - Simplified with direct links -->
        <div class="md:hidden hidden bg-white border-t border-slate-100 animate-slide-down" id="mobile-menu">
            <div class="px-6 py-8 space-y-4 max-h-[80vh] overflow-y-auto">
                <a href="/" class="block text-xl font-bold text-slate-900 hover:text-primary transition-colors">
                    <i class="fas fa-home mr-2 text-primary"></i>Home
                </a>

                <a href="/about" class="block text-xl font-bold text-slate-900 hover:text-primary transition-colors">
                    <i class="fas fa-info-circle mr-2 text-secondary"></i>About
                </a>

                <!-- IT Solutions Direct Link -->
                <a href="/it-solutions" class="block text-xl font-bold text-slate-900 hover:text-primary transition-colors">
                    <i class="fas fa-microchip mr-2 text-primary"></i>IT Solutions
                </a>

                <!-- Import/Export Direct Link (only once) -->
                <a href="/import-export" class="block text-xl font-bold text-slate-900 hover:text-primary transition-colors">
                    <i class="fas fa-ship mr-2 text-secondary"></i>Import/Export
                </a>

                <!-- Contact us - same page as Request freight quote (/contact) -->
                <a href="/contact" class="block text-xl font-bold text-slate-900 hover:text-primary transition-colors">
                    <i class="fas fa-envelope mr-2 text-primary"></i>Contact us
                </a>

                <div class="pt-4 border-t border-slate-200">
                    <a href="#" class="book-free-demo-trigger inline-block w-full py-4 bg-accent text-white text-center rounded-2xl font-bold hover:bg-orange-600 hover:-translate-y-0.5 transition-all">
                        <i class="fas fa-calendar-check mr-2"></i>Book Free Demo
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Book Free Demo Modal - Enhanced Modern Design -->
    <div id="book-demo-modal" class="fixed inset-0 z-[60] hidden items-center justify-center p-2 sm:p-4 bg-dark/80 backdrop-blur-md overflow-y-auto" aria-hidden="true">
        <div class="bg-white rounded-2xl sm:rounded-3xl shadow-2xl w-full max-w-lg overflow-hidden animate-scale-in my-4 sm:my-0 relative" role="dialog" aria-labelledby="book-demo-title">
            <!-- Close Button - Always Visible on All Devices -->
            <button type="button" class="book-demo-close absolute top-3 right-3 z-[80] w-10 h-10 rounded-full bg-white/90 shadow-lg border border-slate-200 flex items-center justify-center text-slate-700 hover:text-red-500 hover:bg-red-50 transition-all" aria-label="Close" style="display: flex !important;">
                <i class="fas fa-times text-lg"></i>
            </button>
            <!-- Header with Gradient -->
            <div class="relative bg-gradient-to-r from-primary to-secondary p-4 sm:p-6 pb-6 sm:pb-8 pt-14">
                <div class="flex items-center gap-4">
                    <div class="w-14 h-14 rounded-2xl bg-white/20 flex items-center justify-center">
                        <i class="fas fa-calendar-check text-2xl text-white"></i>
                    </div>
                    <div>
                        <h2 id="book-demo-title" class="text-2xl font-black text-white">Book Free Consultation</h2>
                        <p class="text-white/80 text-sm">Get expert advice for your project</p>
                    </div>
                </div>
                <!-- Trust Badges -->
                <div class="flex flex-wrap gap-3 mt-4">
                    <span class="inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-white/20 text-white text-xs font-semibold">
                        <i class="fas fa-check-circle"></i> Free Consultation
                    </span>
                    <span class="inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-white/20 text-white text-xs font-semibold">
                        <i class="fas fa-clock"></i> Response in 24hrs
                    </span>
                    <span class="inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-white/20 text-white text-xs font-semibold">
                        <i class="fas fa-shield-alt"></i> No Commitment
                    </span>
                </div>
            </div>
            
            <!-- Form -->
            <form id="book-demo-form" class="p-6 space-y-5" action="https://formsubmit.co/info@globaltechandtrade.com" method="POST">
                <input type="hidden" name="_subject" value="Book Free Demo Request">
                <input type="hidden" name="_template" value="table">
                <input type="hidden" name="_next" id="demo-next" value="">
                <input type="hidden" name="_replyto" id="demo-email-reply">
                <input type="hidden" name="_autoresponse" value="Thank you for requesting a free demo with GlobalTechAndTrade. We have received your details and our team will get back to you shortly. If you have any immediate questions, you can reach us at info@globaltechandtrade.com or +91 9027125341. — GlobalTechAndTrade">
                
                <!-- Two Column Layout -->
                <div class="grid grid-cols-2 gap-4">
                    <div class="col-span-2 sm:col-span-1">
                        <label for="demo-name" class="block text-sm font-bold text-slate-700 mb-2">
                            <i class="fas fa-user text-primary mr-1.5"></i>Full Name <span class="text-red-500">*</span>
                        </label>
                        <input type="text" id="demo-name" name="name" required placeholder="John Doe"
                               class="w-full px-4 py-3.5 bg-slate-50 border-2 border-slate-100 rounded-xl focus:border-primary focus:bg-white focus:ring-4 focus:ring-primary/10 outline-none transition-all text-slate-800 placeholder-slate-400">
                    </div>
                    <div class="col-span-2 sm:col-span-1">
                        <label for="demo-location" class="block text-sm font-bold text-slate-700 mb-2">
                            <i class="fas fa-map-marker-alt text-primary mr-1.5"></i>Location <span class="text-red-500">*</span>
                        </label>
                        <input type="text" id="demo-location" name="location" required placeholder="City, Country"
                               class="w-full px-4 py-3.5 bg-slate-50 border-2 border-slate-100 rounded-xl focus:border-primary focus:bg-white focus:ring-4 focus:ring-primary/10 outline-none transition-all text-slate-800 placeholder-slate-400">
                    </div>
                </div>
                
                <div>
                    <label for="demo-related" class="block text-sm font-bold text-slate-700 mb-2">
                        <i class="fas fa-project-diagram text-primary mr-1.5"></i>What do you need help with?
                    </label>
                    <select id="demo-related" name="demo_related" 
                            class="w-full px-4 py-3.5 bg-slate-50 border-2 border-slate-100 rounded-xl focus:border-primary focus:bg-white focus:ring-4 focus:ring-primary/10 outline-none transition-all text-slate-800 appearance-none cursor-pointer"
                            style="background-image: url('data:image/svg+xml;charset=US-ASCII,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 4 5\"><path fill=\"%23667085\" d=\"M2 0L0 2h4zm0 5L0 3h4z\"/></svg>'); background-repeat: no-repeat; background-position: right 1rem center; background-size: 0.65rem;">
                        <option value="">Select a service...</option>
                        <option value="Mobile App Development">Mobile App Development</option>
                        <option value="Web Application">Web Application</option>
                        <option value="E-Commerce Platform">E-Commerce Platform</option>
                        <option value="Custom Software">Custom Software / ERP / CRM</option>
                        <option value="Import/Export Services">Import/Export Services</option>
                        <option value="Trade & Logistics">Trade & Logistics</option>
                        <option value="IT Consulting">IT Consulting</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
                
                <div class="grid grid-cols-2 gap-4">
                    <div class="col-span-2 sm:col-span-1">
                        <label for="demo-email" class="block text-sm font-bold text-slate-700 mb-2">
                            <i class="fas fa-envelope text-primary mr-1.5"></i>Email <span class="text-red-500">*</span>
                        </label>
                        <input type="email" id="demo-email" name="email" required placeholder="you@company.com"
                               class="w-full px-4 py-3.5 bg-slate-50 border-2 border-slate-100 rounded-xl focus:border-primary focus:bg-white focus:ring-4 focus:ring-primary/10 outline-none transition-all text-slate-800 placeholder-slate-400">
                    </div>
                    <div class="col-span-2 sm:col-span-1">
                        <label for="demo-phone" class="block text-sm font-bold text-slate-700 mb-2">
                            <i class="fas fa-phone-alt text-primary mr-1.5"></i>Phone <span class="text-red-500">*</span>
                        </label>
                        <input type="tel" id="demo-phone" name="phone" required placeholder="+91 98765 43210"
                               class="w-full px-4 py-3.5 bg-slate-50 border-2 border-slate-100 rounded-xl focus:border-primary focus:bg-white focus:ring-4 focus:ring-primary/10 outline-none transition-all text-slate-800 placeholder-slate-400">
                    </div>
                </div>
                
                <div>
                    <label for="demo-budget" class="block text-sm font-bold text-slate-700 mb-2">
                        <i class="fas fa-wallet text-primary mr-1.5"></i>Estimated Budget <span class="text-slate-400 font-normal">(Optional)</span>
                    </label>
                    <select id="demo-budget" name="budget" 
                            class="w-full px-4 py-3.5 bg-slate-50 border-2 border-slate-100 rounded-xl focus:border-primary focus:bg-white focus:ring-4 focus:ring-primary/10 outline-none transition-all text-slate-800 appearance-none cursor-pointer"
                            style="background-image: url('data:image/svg+xml;charset=US-ASCII,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 4 5\"><path fill=\"%23667085\" d=\"M2 0L0 2h4zm0 5L0 3h4z\"/></svg>'); background-repeat: no-repeat; background-position: right 1rem center; background-size: 0.65rem;">
                        <option value="">Select budget range...</option>
                        <option value="Under $1,000">Under $1,000</option>
                        <option value="$1,000 - $5,000">$1,000 - $5,000</option>
                        <option value="$5,000 - $10,000">$5,000 - $10,000</option>
                        <option value="$10,000 - $25,000">$10,000 - $25,000</option>
                        <option value="$25,000 - $50,000">$25,000 - $50,000</option>
                        <option value="$50,000+">$50,000+</option>
                        <option value="Not Sure">Not Sure Yet</option>
                    </select>
                </div>
                
                <!-- Success/Error Messages -->
                <div id="book-demo-success" class="hidden p-4 bg-green-50 border-2 border-green-200 rounded-xl text-green-800 text-sm font-medium">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0">
                            <i class="fas fa-check text-green-600"></i>
                        </div>
                        <div>
                            <p class="font-bold">Request Submitted Successfully!</p>
                            <p class="text-green-600">We'll get back to you within 24 hours.</p>
                        </div>
                    </div>
                </div>
                <div id="book-demo-error" class="hidden p-4 bg-red-50 border-2 border-red-200 rounded-xl text-red-800 text-sm font-medium">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 rounded-full bg-red-100 flex items-center justify-center flex-shrink-0">
                            <i class="fas fa-exclamation text-red-600"></i>
                        </div>
                        <div>
                            <p class="font-bold">Something went wrong</p>
                            <p class="text-red-600">Please try again or email info@globaltechandtrade.com</p>
                        </div>
                    </div>
                </div>
                
                <!-- Submit and Close Buttons -->
                <div class="pt-2 flex flex-col sm:flex-row gap-3">
                    <button type="submit" id="book-demo-submit-btn" class="flex-1 group relative px-6 py-4 bg-gradient-to-r from-accent to-orange-500 hover:from-orange-500 hover:to-accent text-white font-bold rounded-xl shadow-lg shadow-accent/30 hover:shadow-xl hover:-translate-y-0.5 transition-all overflow-hidden">
                        <span class="relative z-10 flex items-center justify-center gap-2">
                            <i class="fas fa-paper-plane"></i>
                            Submit Request
                            <i class="fas fa-arrow-right group-hover:translate-x-1 transition-transform"></i>
                        </span>
                    </button>
                    <button type="button" class="book-demo-close sm:w-auto px-6 py-4 bg-slate-100 hover:bg-slate-200 text-slate-700 font-bold rounded-xl transition-all flex items-center justify-center gap-2">
                        <i class="fas fa-times"></i>
                        Close
                    </button>
                </div>
                
                <!-- Footer Note -->
                <p class="text-center text-xs text-slate-400 pt-2">
                    <i class="fas fa-lock mr-1"></i>
                    Your information is secure and will never be shared.
                </p>
            </form>
        </div>
    </div>

    <!-- Main Content -->
    <main class="pt-20 min-h-screen">
        <!-- Flash Messages -->
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                <div class="fixed top-24 right-4 z-50 w-96 space-y-4">
                    {% for category, message in messages %}
                        <div class="bg-white border-l-4 border-{{ 'primary' if category == 'success' else 'red' }}-500 rounded-lg shadow-2xl p-4 animate-slide-up hover-scale" role="alert">
                            <div class="flex items-start">
                                <div class="flex-shrink-0">
                                    <i class="fas fa-{{ 'check-circle' if category == 'success' else 'exclamation-circle' }} text-{{ 'primary' if category == 'success' else 'red' }}-500 text-xl"></i>
                                </div>
                                <div class="ml-3 flex-1">
                                    <p class="text-sm font-bold text-slate-800">{{ message }}</p>
                                </div>
                                <button onclick="this.parentElement.parentElement.remove()" class="ml-4 text-slate-400 hover:text-slate-600">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            {% endif %}
        {% endwith %}

        {% block content %}{% endblock %}
    </main>

    <!-- Footer -->
    <footer class="bg-slate-900 text-slate-300 pt-20 pb-12 footer-glow">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <!-- Main Footer Grid -->
            <div class="grid lg:grid-cols-12 gap-12 lg:gap-16 mb-16">

                <!-- Company Info -->
                <div class="lg:col-span-4">
                    <div class="flex items-center gap-3 mb-8">
                        <img src="{{ url_for('static', filename='images/logo.png') }}" alt="GlobalTechAndTrade" class="h-12 w-auto brightness-0 invert">
                    </div>
                    <p class="text-slate-400 text-sm leading-relaxed mb-8 max-w-sm">
                        Bridging continents through technology and trade. Your trusted partner for IT innovation and global commerce since 2021.
                    </p>
                    <div class="flex gap-3">
                        <a href="#" class="w-11 h-11 rounded-xl bg-slate-800 flex items-center justify-center text-white hover:bg-primary hover:-translate-y-1 transition-all">
                            <i class="fab fa-linkedin-in"></i>
                        </a>
                        <a href="#" class="w-11 h-11 rounded-xl bg-slate-800 flex items-center justify-center text-white hover:bg-primary hover:-translate-y-1 transition-all">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="w-11 h-11 rounded-xl bg-slate-800 flex items-center justify-center text-white hover:bg-primary hover:-translate-y-1 transition-all">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="https://wa.me/919027125341" class="w-11 h-11 rounded-xl bg-primary/20 text-primary flex items-center justify-center hover:bg-primary hover:text-white hover:-translate-y-1 transition-all">
                            <i class="fab fa-whatsapp"></i>
                        </a>
                    </div>
                </div>

                <!-- India Office -->
                <div class="lg:col-span-3">
                    <h4 class="text-xs font-black text-primary uppercase tracking-[0.3em] mb-6 flex items-center gap-2">
                        <span class="w-1.5 h-1.5 bg-primary rounded-full"></span>
                        India HQ
                    </h4>
                    <p class="text-xs text-slate-400 mb-4">IT Solutions & Trade</p>
                    <div class="space-y-5">
                        <div class="flex gap-4 group">
                            <i class="fas fa-map-marker-alt text-primary mt-1 group-hover:scale-110 transition-transform"></i>
                            <p class="text-sm text-slate-300">
                                Sector 63, Noida,<br>
                                Uttar Pradesh, India 201301
                            </p>
                        </div>
                        <div class="flex gap-4 group">
                            <i class="fas fa-phone-alt text-primary mt-1 group-hover:scale-110 transition-transform"></i>
                            <span class="text-sm font-bold text-white">+91 9027125341</span>
                        </div>
                        <div class="flex gap-4 group">
                            <i class="fas fa-envelope text-primary mt-1 group-hover:scale-110 transition-transform"></i>
                            <a href="mailto:info@globaltechandtrade.com" class="text-sm font-bold text-white hover:text-primary transition-colors">info@globaltechandtrade.com</a>
                        </div>
                    </div>
                </div>

                <!-- Zambia Office -->
                <div class="lg:col-span-3">
                    <h4 class="text-xs font-black text-secondary uppercase tracking-[0.3em] mb-6 flex items-center gap-2">
                        <span class="w-1.5 h-1.5 bg-secondary rounded-full"></span>
                        Zambia HQ
                    </h4>
                    <p class="text-xs text-slate-400 mb-4">IT Solutions & Trade</p>
                    <div class="space-y-5">
                        <div class="flex gap-4 group">
                            <i class="fas fa-map-marker-alt text-secondary mt-1 group-hover:scale-110 transition-transform"></i>
                            <p class="text-sm text-slate-300">
                                Plot #10424/4, Cassanova Court,<br>
                                Chainama, Lusaka, Zambia
                            </p>
                        </div>
                        <div class="flex gap-4 group">
                            <i class="fas fa-phone-alt text-secondary mt-1 group-hover:scale-110 transition-transform"></i>
                            <a href="tel:+260977588581" class="text-sm font-bold text-white hover:text-secondary transition-colors">+260 97 7588581</a>
                        </div>
                        <div class="flex gap-4 group">
                            <i class="fas fa-envelope text-secondary mt-1 group-hover:scale-110 transition-transform"></i>
                            <a href="mailto:info@globaltechandtrade.com" class="text-sm font-bold text-white hover:text-secondary transition-colors">info@globaltechandtrade.com</a>
                        </div>
                    </div>
                </div>

                <!-- Quick Links -->
                <div class="lg:col-span-2">
                    <h4 class="text-xs font-black text-primary uppercase tracking-[0.3em] mb-8">Quick Links</h4>
                    <ul class="space-y-4 text-sm font-bold">
                        <li><a href="/it-solutions" class="hover:text-white transition-colors flex items-center gap-2 group">
                            <i class="fas fa-chevron-right text-primary text-xs group-hover:translate-x-1 transition-transform"></i>
                            IT Solutions
                        </a></li>
                        <li><a href="/import-export" class="hover:text-white transition-colors flex items-center gap-2 group">
                            <i class="fas fa-chevron-right text-secondary text-xs group-hover:translate-x-1 transition-transform"></i>
                            Import/Export
                        </a></li>
                        <li><a href="/mobile-app-development" class="hover:text-white transition-colors flex items-center gap-2 group">
                            <i class="fas fa-chevron-right text-primary text-xs group-hover:translate-x-1 transition-transform"></i>
                            Mobile Apps
                        </a></li>
                        <li><a href="/web-application-development" class="hover:text-white transition-colors flex items-center gap-2 group">
                            <i class="fas fa-chevron-right text-secondary text-xs group-hover:translate-x-1 transition-transform"></i>
                            Web Apps
                        </a></li>
                        <li><a href="/graphic-design" class="hover:text-white transition-colors flex items-center gap-2 group">
                            <i class="fas fa-chevron-right text-accent text-xs group-hover:translate-x-1 transition-transform"></i>
                            Graphic Design
                        </a></li>
                        <li><a href="/company-management" class="hover:text-white transition-colors flex items-center gap-2 group">
                            <i class="fas fa-chevron-right text-primary text-xs group-hover:translate-x-1 transition-transform"></i>
                            Company Management
                        </a></li>
                        <li><a href="/contact" class="text-primary hover:text-primary/80 transition-colors flex items-center gap-2 group">
                            <i class="fas fa-chevron-right text-primary text-xs group-hover:translate-x-1 transition-transform"></i>
                            Contact Us
                        </a></li>
                    </ul>
                </div>
            </div>

            <!-- Newsletter Signup -->
            <div class="mb-12 p-8 bg-slate-800/50 rounded-3xl border border-slate-700">
                <div class="grid md:grid-cols-2 gap-8 items-center">
                    <div>
                        <h5 class="text-white font-bold text-lg mb-2">Stay Updated</h5>
                        <p class="text-slate-400 text-sm">Get the latest news on IT innovations and trade opportunities</p>
                    </div>
                    <form action="https://formsubmit.co/info@globaltechandtrade.com" method="POST" class="flex gap-3" id="newsletter-form">
                        <input type="hidden" name="_subject" value="Newsletter Subscription">
                        <input type="hidden" name="_template" value="table">
                        <input type="hidden" name="_next" id="newsletter-next" value="">
                        <input type="hidden" name="_autoresponse" value="Thank you for subscribing to GlobalTechAndTrade newsletter! You'll receive updates on IT innovations and trade opportunities. — GlobalTechAndTrade">
                        <input type="email" name="email" placeholder="Your email address"
                               class="flex-1 px-4 py-3 bg-slate-700 border border-slate-600 rounded-xl text-white placeholder-slate-400 focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all"
                               required>
                        <button type="submit"
                                class="px-6 py-3 gradient-bg text-white font-bold rounded-xl hover:shadow-lg hover:-translate-y-0.5 transition-all group">
                            <i class="fas fa-paper-plane group-hover:translate-x-1 transition-transform"></i>
                        </button>
                    </form>
                </div>
            </div>

            <!-- Bottom Bar -->
            <div class="pt-8 border-t border-slate-800/50 flex flex-col md:flex-row justify-between items-center gap-6">
                <p class="text-slate-500 text-xs font-medium uppercase tracking-widest">
                    &copy; {{ current_year|default('2026') }} GlobalTechAndTrade Solutions Ltd. All rights reserved.
                </p>
                <div class="flex gap-8 text-[10px] font-black text-slate-500 uppercase tracking-widest">
                    <a href="#" class="hover:text-white transition-colors">Privacy Policy</a>
                    <a href="#" class="hover:text-white transition-colors">Terms of Trade</a>
                    <a href="#" class="hover:text-white transition-colors">Compliance</a>
                    <a href="#" class="hover:text-white transition-colors">Sitemap</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Back to Top Button - positioned to left of chat button -->
    <button id="back-to-top" class="fixed bottom-4 right-20 sm:bottom-6 sm:right-24 w-10 h-10 sm:w-12 sm:h-12 gradient-bg text-white rounded-xl shadow-xl opacity-0 invisible transition-all duration-300 hover:-translate-y-1 hover:shadow-2xl z-40">
        <i class="fas fa-arrow-up text-sm"></i>
    </button>

    <!-- Scripts -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        // Initialize AOS
        AOS.init({
            duration: 800,
            once: true,
            offset: 100
        });

        // Mobile menu toggle
        const btn = document.getElementById('mobile-menu-btn');
        const menu = document.getElementById('mobile-menu');
        if(btn && menu) {
            btn.addEventListener('click', () => {
                menu.classList.toggle('hidden');
                btn.classList.toggle('bg-primary');
                btn.classList.toggle('text-white');
            });
        }

        // Sticky Navbar with shadow
        window.addEventListener('scroll', () => {
            const nav = document.getElementById('navbar');
            const backToTop = document.getElementById('back-to-top');

            if (window.scrollY > 20) {
                nav.classList.add('shadow-xl', 'bg-white/95');
                nav.classList.remove('bg-white/80');
            } else {
                nav.classList.remove('shadow-xl', 'bg-white/95');
                nav.classList.add('bg-white/80');
            }

            // Back to top button visibility
            if (window.scrollY > 500) {
                backToTop.style.opacity = '1';
                backToTop.style.visibility = 'visible';
            } else {
                backToTop.style.opacity = '0';
                backToTop.style.visibility = 'hidden';
            }
        });

        // Back to top functionality
        document.getElementById('back-to-top')?.addEventListener('click', () => {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Auto-hide flash messages
        setTimeout(() => {
            document.querySelectorAll('[role="alert"]').forEach(el => {
                el.style.transition = 'opacity 0.5s ease';
                el.style.opacity = '0';
                setTimeout(() => el.remove(), 500);
            });
        }, 5000);

        // Loading spinner (you can trigger this with AJAX calls)
        function showLoading() {
            document.getElementById('loading-spinner').classList.remove('hidden');
            document.getElementById('loading-spinner').classList.add('flex');
        }

        function hideLoading() {
            document.getElementById('loading-spinner').classList.add('hidden');
            document.getElementById('loading-spinner').classList.remove('flex');
        }

        // Close mobile menu on window resize (if open)
        window.addEventListener('resize', () => {
            if (window.innerWidth >= 768 && menu && !menu.classList.contains('hidden')) {
                menu.classList.add('hidden');
                btn.classList.remove('bg-primary', 'text-white');
            }
        });

        // Add active class to current page in mobile menu
        const currentPath = window.location.pathname;
        document.querySelectorAll('#mobile-menu a').forEach(link => {
            if (link.getAttribute('href') === currentPath) {
                link.classList.add('text-primary', 'font-bold');
            }
        });

        // Book Free Demo modal: open
        document.querySelectorAll('.book-free-demo-trigger').forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.preventDefault();
                const modal = document.getElementById('book-demo-modal');
                const form = document.getElementById('book-demo-form');
                const successEl = document.getElementById('book-demo-success');
                if (modal) {
                    if (form) form.reset();
                    if (successEl) successEl.classList.add('hidden');
                    modal.classList.remove('hidden');
                    modal.classList.add('flex');
                    document.body.style.overflow = 'hidden';
                    if (menu && !menu.classList.contains('hidden')) menu.classList.add('hidden');
                }
            });
        });

        // Book Free Demo modal: close
        function closeBookDemoModal() {
            const modal = document.getElementById('book-demo-modal');
            if (modal) {
                modal.classList.add('hidden');
                modal.classList.remove('flex');
                document.body.style.overflow = '';
            }
        }
        document.querySelectorAll('.book-demo-close').forEach(btn => {
            btn.addEventListener('click', closeBookDemoModal);
        });
        document.getElementById('book-demo-modal')?.addEventListener('click', function(e) {
            if (e.target === this) closeBookDemoModal();
        });

        // Book Free Demo form: normal submit so FormSubmit can send confirmation email to visitor (_autoresponse)
        document.getElementById('book-demo-form')?.addEventListener('submit', function() {
            var replyto = document.getElementById('demo-email');
            var replytoHidden = document.getElementById('demo-email-reply');
            var nextHidden = document.getElementById('demo-next');
            if (replyto && replytoHidden) replytoHidden.value = replyto.value;
            if (nextHidden) nextHidden.value = window.location.origin + window.location.pathname + '?demo=submitted';
        });

        // Show thank-you message when returning after successful submission
        if (window.location.search.indexOf('demo=submitted') !== -1) {
            (function() {
                var wrap = document.createElement('div');
                wrap.className = 'fixed top-24 right-4 z-[70] max-w-sm';
                wrap.innerHTML = '<div class="bg-white border-l-4 border-primary rounded-lg shadow-2xl p-4 animate-slide-up flex items-start gap-3">' +
                    '<i class="fas fa-check-circle text-primary text-xl mt-0.5"></i>' +
                    '<div><p class="font-bold text-slate-800">Request received</p><p class="text-sm text-slate-600 mt-1">A confirmation has been sent to your email.</p></div>' +
                    '<button type="button" class="ml-auto text-slate-400 hover:text-slate-600" aria-label="Close">×</button></div>';
                wrap.querySelector('button').onclick = function() { wrap.remove(); history.replaceState({}, '', window.location.pathname); };
                document.body.appendChild(wrap);
                history.replaceState({}, '', window.location.pathname);
                setTimeout(function() { if (wrap.parentNode) { wrap.remove(); } }, 8000);
            })();
        }

        // Newsletter form: set redirect URL
        var newsletterForm = document.getElementById('newsletter-form');
        if (newsletterForm) {
            newsletterForm.addEventListener('submit', function() {
                var nextHidden = document.getElementById('newsletter-next');
                if (nextHidden) nextHidden.value = window.location.origin + '/?subscribed=true';
            });
        }

        // Show thank-you message for newsletter subscription
        if (window.location.search.indexOf('subscribed=true') !== -1) {
            (function() {
                var wrap = document.createElement('div');
                wrap.className = 'fixed top-24 right-4 z-[70] max-w-sm';
                wrap.innerHTML = '<div class="bg-white border-l-4 border-green-500 rounded-lg shadow-2xl p-4 animate-slide-up flex items-start gap-3">' +
                    '<i class="fas fa-envelope-open-text text-green-500 text-xl mt-0.5"></i>' +
                    '<div><p class="font-bold text-slate-800">Subscribed!</p><p class="text-sm text-slate-600 mt-1">You\'ll receive our latest updates.</p></div>' +
                    '<button type="button" class="ml-auto text-slate-400 hover:text-slate-600" aria-label="Close">×</button></div>';
                wrap.querySelector('button').onclick = function() { wrap.remove(); history.replaceState({}, '', window.location.pathname); };
                document.body.appendChild(wrap);
                history.replaceState({}, '', window.location.pathname);
                setTimeout(function() { if (wrap.parentNode) { wrap.remove(); } }, 8000);
            })();
        }
    </script>

    <!-- Extra Scripts Block -->
    {% block extra_scripts %}{% endblock %}

    <!-- ═══════════════════════════════════════════════════════════
         AI CHATBOT - Auto replies based on website content
    ═══════════════════════════════════════════════════════════ -->
    <style>
        /* Chatbot - Force into own rendering layer */
        #chat-window {
            width: calc(100vw - 16px);
            max-width: 380px;
            transform-style: preserve-3d;
            perspective: 1000px;
            -webkit-transform-style: preserve-3d;
        }
        .chatbot-container {
            position: relative;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.9);
            border: 3px solid #1e3a5f;
            transform: translateZ(1px);
            -webkit-transform: translateZ(1px);
        }
        #chat-messages {
            scrollbar-width: thin;
            scrollbar-color: #3b82f6 #c7ccd4;
        }
        #chat-messages::-webkit-scrollbar { width: 6px; }
        #chat-messages::-webkit-scrollbar-track { background: #c7ccd4; }
        #chat-messages::-webkit-scrollbar-thumb { background: #3b82f6; border-radius: 3px; }
        
        /* Mobile-first responsive design */
        @media (max-width: 480px) {
            #chat-window {
                width: calc(100vw - 16px);
                max-width: none;
                left: 8px;
                right: 8px;
                bottom: 80px !important;
            }
            #chat-toggle {
                bottom: 16px !important;
                right: 16px !important;
            }
            #chat-messages {
                height: 180px !important;
            }
            #chat-input {
                font-size: 16px !important; /* Prevents zoom on iOS */
                padding: 12px 16px !important;
                min-height: 48px !important;
            }
            #chat-form button[type="submit"] {
                width: 48px !important;
                height: 48px !important;
            }
            .quick-reply-btn {
                padding: 10px 14px !important;
                font-size: 13px !important;
            }
        }
        
        /* Tablet */
        @media (min-width: 481px) and (max-width: 768px) {
            #chat-window {
                width: 340px;
                bottom: 90px !important;
                right: 16px !important;
            }
            #chat-messages {
                height: 220px !important;
            }
        }
        
        /* Desktop */
        @media (min-width: 769px) {
            #chat-window {
                width: 380px;
                bottom: 96px !important;
                right: 24px !important;
            }
            #chat-messages {
                height: 250px !important;
            }
        }
    </style>

    <!-- Chat Backdrop Overlay (dims background when chat is open) -->
    <div id="chat-backdrop" class="fixed inset-0 hidden" style="background: rgba(0,0,0,0.6); z-index: 99998 !important;"></div>

    <!-- Chat Toggle Button - Mobile Optimized -->
    <button id="chat-toggle" class="fixed w-14 h-14 sm:w-16 sm:h-16 bg-gradient-to-br from-primary to-secondary rounded-full flex items-center justify-center shadow-2xl hover:scale-110 active:scale-95 transition-all duration-300 bottom-4 right-4 sm:bottom-6 sm:right-6" style="z-index: 2147483647 !important;">
        <i class="fas fa-comments text-white text-xl sm:text-2xl" id="chat-icon-open"></i>
        <i class="fas fa-times text-white text-xl sm:text-2xl hidden" id="chat-icon-close"></i>
        <span class="absolute -top-1 -right-1 w-4 h-4 sm:w-5 sm:h-5 bg-red-500 rounded-full border-2 border-white animate-pulse" id="chat-notification"></span>
    </button>

    <!-- Chat Window Container - translateZ forces GPU layer -->
    <div id="chat-window" class="fixed origin-bottom-right transition-transform duration-300" style="transform: scale(0); display: none; z-index: 2147483647 !important; isolation: isolate; contain: layout paint;">
        
        <!-- SOLID BACKGROUND CONTAINER with shadow and border -->
        <div class="chatbot-container rounded-2xl overflow-hidden" style="background-color: #ffffff !important; background: #ffffff !important; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(0, 0, 0, 0.1) !important; border: 2px solid #e5e7eb !important;">
            
            <!-- Chat Header with Close Button -->
            <div style="background-color: #0052CC !important; padding: 12px 16px;">
                <div class="flex items-center justify-between">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 rounded-full flex items-center justify-center" style="background-color: #3b82f6 !important;">
                            <i class="fas fa-robot text-xl text-white"></i>
                        </div>
                        <div>
                            <h4 class="font-bold text-white text-sm sm:text-base">GTT Assistant</h4>
                            <p class="text-xs flex items-center gap-1 text-blue-200">
                                <span class="w-2 h-2 bg-green-400 rounded-full"></span> AI Powered
                            </p>
                        </div>
                    </div>
                    <button onclick="closeChat()" class="w-8 h-8 rounded-full flex items-center justify-center text-white/80 hover:text-white hover:bg-white/20 transition-all active:scale-95" title="Close chat">
                        <i class="fas fa-times text-lg"></i>
                    </button>
                </div>
            </div>

            <!-- Chat Messages - Fixed height with scroll -->
            <div id="chat-messages" class="overflow-y-auto p-3 space-y-3" style="height: 200px; background-color: #c7ccd4 !important;">
                <div class="flex gap-2">
                    <div class="w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0" style="background-color: #93c5fd !important;">
                        <i class="fas fa-robot text-blue-700 text-sm"></i>
                    </div>
                    <div class="rounded-2xl rounded-tl-none p-3 max-w-[85%]" style="background-color: white !important; box-shadow: 0 2px 4px rgba(0,0,0,0.15);">
                        <p class="text-sm text-gray-700">Hi! 👋 I'm GTT Assistant. Ask me anything about our IT Solutions or Import/Export services!</p>
                    </div>
                </div>
            </div>

            <!-- Quick Replies - Mobile Optimized -->
            <div id="quick-replies" class="p-3 border-t border-gray-300" style="background-color: white !important;">
            <p class="text-xs text-slate-500 mb-2">Quick questions:</p>
            <div class="flex flex-wrap gap-2">
                <button onclick="startDemoBooking()" class="quick-reply-btn px-3 py-2 sm:py-1.5 text-white text-sm sm:text-xs font-medium rounded-full transition-all active:scale-95 shadow-sm" style="background: linear-gradient(135deg, #f97316, #ef4444);">📅 Book Demo</button>
                <button onclick="sendQuickReply('What services do you offer?')" class="quick-reply-btn px-3 py-2 sm:py-1.5 text-slate-600 text-sm sm:text-xs font-medium rounded-full transition-all hover:bg-primary hover:text-white active:scale-95" style="background: #e2e8f0;">Services</button>
                <button onclick="sendQuickReply('Tell me about mobile app development')" class="quick-reply-btn px-3 py-2 sm:py-1.5 text-slate-600 text-sm sm:text-xs font-medium rounded-full transition-all hover:bg-primary hover:text-white active:scale-95" style="background: #e2e8f0;">Mobile Apps</button>
                <button onclick="sendQuickReply('How to contact you?')" class="quick-reply-btn px-3 py-2 sm:py-1.5 text-slate-600 text-sm sm:text-xs font-medium rounded-full transition-all hover:bg-primary hover:text-white active:scale-95" style="background: #e2e8f0;">Contact</button>
            </div>
        </div>

            <!-- Chat Input - Mobile Optimized -->
            <div class="p-3 sm:p-4 border-t border-gray-300" style="background-color: white !important;">
                <form id="chat-form" class="flex gap-2 items-center">
                    <input type="text" id="chat-input" placeholder="Type your message..."
                           autocomplete="off"
                           class="flex-1 px-4 py-3 sm:py-2 rounded-full text-base sm:text-sm outline-none focus:ring-2 focus:ring-blue-400 transition-all border-2 border-gray-300 focus:border-blue-500" 
                           style="background-color: #f3f4f6 !important; min-height: 44px; -webkit-appearance: none; appearance: none;">
                    <button type="submit" class="w-12 h-12 sm:w-10 sm:h-10 text-white rounded-full flex items-center justify-center transition-all flex-shrink-0 shadow-lg active:scale-95" style="background: linear-gradient(to bottom right, #2563eb, #1d4ed8) !important;">
                        <i class="fas fa-paper-plane text-base sm:text-sm" style="color: white !important;"></i>
                    </button>
                </form>
                <p class="text-xs text-gray-400 mt-2 text-center sm:hidden">Tap to type your question</p>
            </div>

            <!-- Book Demo Link -->
            <div class="p-2 border-t border-gray-300 text-center" style="background-color: #c7ccd4 !important;">
            <a href="#" class="book-free-demo-trigger text-xs text-primary hover:text-blue-700 font-semibold transition-colors">
                <i class="fas fa-calendar-check mr-1"></i> Book a Free Consultation
            </a>
            </div>
            
        </div><!-- End of solid background container -->
    </div>

    <script>
    (function() {
        var chatToggle = document.getElementById('chat-toggle');
        var chatWindow = document.getElementById('chat-window');
        var chatBackdrop = document.getElementById('chat-backdrop');
        var chatForm = document.getElementById('chat-form');
        var chatInput = document.getElementById('chat-input');
        var chatMessages = document.getElementById('chat-messages');
        var iconOpen = document.getElementById('chat-icon-open');
        var iconClose = document.getElementById('chat-icon-close');
        var notification = document.getElementById('chat-notification');
        var isOpen = false;
        
        // Demo Booking State
        var demoBooking = {
            active: false,
            step: 0,
            data: {
                name: '',
                email: '',
                phone: '',
                company: '',
                service: '',
                message: ''
            }
        };
        
        var demoSteps = [
            { field: 'name', question: "Great! Let's book your free demo. 📅\n\nWhat's your **full name**?" },
            { field: 'email', question: "Nice to meet you, {name}! 👋\n\nWhat's your **email address**?" },
            { field: 'phone', question: "Got it! 📧\n\nWhat's your **phone number** (with country code)?" },
            { field: 'company', question: "Perfect! 📱\n\nWhat's your **company name**? (or type 'Individual' if personal)" },
            { field: 'service', question: "Great! 🏢\n\nWhich **service** are you interested in?\n\n• Mobile App Development\n• Web Development\n• Custom Software/ERP\n• E-Commerce\n• Import/Export\n• IT Consulting\n• Other" },
            { field: 'message', question: "Excellent choice! ✨\n\nAny **specific requirements** or questions you'd like to discuss? (or type 'None')" }
        ];

        // Gemini AI Configuration
        var GEMINI_API_KEY = 'AIzaSyA_6Tln-e_ULzDub_xRw12KraDFKnwCx50';
        var GEMINI_API_URL = 'https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent';
        
        // Company context for Gemini AI
        var companyContext = `You are GTT Assistant, a helpful AI chatbot for GlobalTechAndTrade company website. 
        
About GlobalTechAndTrade:
- A dual-expertise company offering IT Solutions and Import/Export services
- Founded in 2021, completed 50+ projects, serving 12+ countries
- 98% client satisfaction rate

IT Services offered:
- Mobile App Development (iOS, Android, React Native, Flutter)
- Web Application Development (React, Vue.js, Node.js, Python)
- Custom Software & ERP/CRM solutions
- E-Commerce Platforms
- IT Consulting

Trade Services offered:
- Import/Export services
- Customs Clearance
- Freight Forwarding
- Supply Chain Management
- Regions: India, Africa, Middle East
- Products: Electronics, Machinery, Textiles, Food Products

Office Locations:
1. India HQ (Asia): Sector 63, Noida, UP 201301 | Phone: +91 9027125341 | Mon-Sat: 9AM-6PM IST
2. Zambia HQ (Africa): Plot #10424/4, Cassanova Court, Chainama, Lusaka | Phone: +260 977 588 581 | Mon-Fri: 8AM-5PM CAT

Contact: info@globaltechandtrade.com

Keep responses concise, friendly, and helpful. Use emojis occasionally. If asked about something unrelated to the company, politely redirect to company services or answer briefly then mention GlobalTechAndTrade services.`;

        // Fallback responses based on GlobalTechAndTrade website content
        var responses = {
            // Services
            'services': '🚀 GlobalTechAndTrade offers:\n\n**IT Solutions:**\n• Mobile App Development (iOS & Android)\n• Web Application Development\n• Custom Software & ERP/CRM\n• E-Commerce Platforms\n• IT Consulting\n\n**Trade Services:**\n• Import/Export\n• Customs Clearance\n• Freight Forwarding\n• Supply Chain Management\n\nWhich service interests you?',
            
            // Mobile Apps
            'mobile': '📱 **Mobile App Development**\n\nWe build native & cross-platform apps:\n• iOS & Android Apps\n• React Native & Flutter\n• E-commerce Apps\n• Business Apps\n• Custom Solutions\n\nWant to discuss your app idea? Book a FREE consultation!',
            
            // Web Development
            'web': '🌐 **Web Development**\n\nWe create modern websites:\n• Business Websites\n• E-Commerce Stores\n• Web Applications\n• Landing Pages\n• Custom Portals\n\n**Technologies:** React, Node.js, Python\n\nTell me about your project!',
            
            // Import Export
            'import': '🚢 **Import/Export Services**\n\nWe handle global trade:\n• Product Sourcing\n• Customs Clearance\n• Freight Forwarding\n• Documentation\n• Door-to-Door Delivery\n\n**Regions:** India, Africa, Middle East\n**Products:** Electronics, Machinery, Textiles, Food Products\n\nWhat do you want to trade?',
            
            // Pricing
            'price': '💰 **Pricing Information**\n\nOur pricing is project-based and customized to your specific requirements.\n\nFor an accurate quote, please book a FREE consultation where we can discuss your project in detail!\n\n📅 Click "Book Demo" below to schedule a call with our team.',
            
            // Contact
            'contact': '📞 **Contact Us**\n\n**Email:** info@globaltechandtrade.com\n\n**India Office:**\n📍 Sector 63, Noida, UP\n📞 +91 9027125341\n\n**Zambia Office:**\n📍 Chainama, Lusaka\n📞 +260 977 588 581\n\nOr book a free demo using the link below!',
            
            // Location
            'location': '🌍 **Our Offices**\n\n**India HQ (Asia):**\n📍 Sector 63, Noida, Uttar Pradesh 201301\n🕐 Mon-Sat: 9AM - 6PM IST\n\n**Zambia HQ (Africa):**\n📍 Plot #10424/4, Cassanova Court, Chainama, Lusaka\n🕐 Mon-Fri: 8AM - 5PM CAT\n\nWe serve India, Africa & Middle East!',
            
            // About
            'about': '🏢 **About GlobalTechAndTrade**\n\nWe are a dual-expertise company offering:\n• IT Solutions & Software Development\n• International Trade & Logistics\n\n**Founded:** 2021\n**Projects:** 50+\n**Countries:** 12+\n**Satisfaction:** 98%\n\nWe bridge technology and trade across continents!',
            
            // Timeline
            'timeline': '⏱️ **Project Timelines**\n\n• **Landing Page:** 1-2 weeks\n• **Business Website:** 2-4 weeks\n• **E-Commerce:** 4-8 weeks\n• **Mobile App:** 6-12 weeks\n• **Custom Software:** 3-6 months\n• **Import/Export:** Varies by shipment\n\nTimelines depend on project complexity.',
            
            // Technologies
            'tech': '💻 **Technologies We Use**\n\n**Frontend:** React, Vue.js, Angular\n**Backend:** Node.js, Python, PHP\n**Mobile:** React Native, Flutter, Swift, Kotlin\n**Database:** MongoDB, PostgreSQL, MySQL\n**Cloud:** AWS, Google Cloud, Azure\n\nWe choose the best tech for your needs!',
            
            // Support
            'support': '🛠️ **Support & Maintenance**\n\n• **Free Support:** 3 months after delivery\n• **AMC Plans:** Annual maintenance contracts\n• **24/7 Support:** For critical issues\n• **Updates:** Regular security & feature updates\n\nWe never abandon our clients!',
            
            // Greetings
            'hello': 'Hello! 👋 Welcome to GlobalTechAndTrade! I\'m your AI assistant. How can I help you today?\n\nYou can ask about:\n• IT Services\n• Import/Export\n• Pricing\n• Contact Info',
            'hi': 'Hi there! 👋 Great to see you! I\'m GTT Assistant.\n\nAsk me anything about our services, pricing, or how we can help your business grow!',
            'hey': 'Hey! 👋 Welcome! What would you like to know about GlobalTechAndTrade?',
            
            // Thanks
            'thank': 'You\'re welcome! 😊 Is there anything else I can help you with?\n\nFeel free to book a FREE consultation for detailed discussion!',
            
            // Bye
            'bye': 'Goodbye! 👋 Thank you for visiting GlobalTechAndTrade.\n\nRemember, you can reach us at:\n📧 info@globaltechandtrade.com\n📞 +91 9027125341\n\nHave a great day!',
            
            // Demo/Consultation
            'demo': '📅 **Book Free Consultation**\n\nGet a FREE 30-minute consultation:\n• Discuss your requirements\n• Get expert advice\n• Receive a custom quote\n• No commitment required\n\nClick "Book a Free Consultation" below or call us at +91 9027125341!',
            
            // Default
            'default': 'I\'m not sure I fully understand, but I\'m here to help! 🤔\n\nYou can ask me about:\n• **Services** - IT solutions & trade\n• **Pricing** - Project costs\n• **Contact** - How to reach us\n• **Timeline** - Project duration\n\nOr book a free consultation to speak with our team!'
        };

        function openChat() {
            chatBackdrop.classList.remove('hidden');
            chatBackdrop.style.zIndex = '2147483646';
            chatWindow.style.display = 'block';
            chatWindow.style.zIndex = '2147483647';
            chatToggle.style.zIndex = '2147483647';
            
            // Force solid background on all elements
            var container = chatWindow.querySelector('.chatbot-container');
            if (container) {
                container.style.backgroundColor = '#ffffff';
                container.style.background = '#ffffff';
            }
            setTimeout(function() { chatWindow.style.transform = 'scale(1)'; }, 10);
            iconOpen.classList.add('hidden');
            iconClose.classList.remove('hidden');
            notification.classList.add('hidden');
            isOpen = true;
        }

        chatToggle.addEventListener('click', function() {
            if (isOpen) { closeChat(); } else { openChat(); }
        });

        chatForm.addEventListener('submit', function(e) {
            e.preventDefault();
            var message = chatInput.value.trim();
            if (!message) return;
            addMessage(message, 'user');
            chatInput.value = '';
            processMessage(message);
        });

        window.sendQuickReply = function(message) {
            addMessage(message, 'user');
            processMessage(message);
        };

        function processMessage(message) {
            // Show typing indicator
            var typingDiv = document.createElement('div');
            typingDiv.id = 'typing-indicator';
            typingDiv.className = 'flex gap-2';
            typingDiv.innerHTML = '<div class="w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0"><i class="fas fa-robot text-primary text-sm"></i></div><div class="bg-white rounded-2xl rounded-tl-none p-3 shadow-sm"><p class="text-sm text-slate-400"><i class="fas fa-circle text-xs animate-pulse"></i> Thinking...</p></div>';
            chatMessages.appendChild(typingDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
            
            // Check if demo booking is active
            if (demoBooking.active) {
                setTimeout(function() {
                    var typing = document.getElementById('typing-indicator');
                    if (typing) typing.remove();
                    handleDemoBookingStep(message);
                }, 600);
                return;
            }
            
            // Check if user wants to book demo
            var msgLower = message.toLowerCase();
            if (msgLower.includes('book') || msgLower.includes('demo') || msgLower.includes('consultation') || 
                msgLower.includes('schedule') || msgLower.includes('appointment') || msgLower.includes('meeting')) {
                setTimeout(function() {
                    var typing = document.getElementById('typing-indicator');
                    if (typing) typing.remove();
                    startDemoBooking();
                }, 600);
                return;
            }

            // Try local response first for common questions
            var localResponse = getResponse(message);

            // If we have a local response, use it (faster)
            if (localResponse) {
                setTimeout(function() {
                    var typing = document.getElementById('typing-indicator');
                    if (typing) typing.remove();
                    addMessage(localResponse, 'bot');
                }, 800);
            } else {
                // Use Gemini AI for other questions
                callGeminiAI(message);
            }
        }
        
        function startDemoBooking() {
            demoBooking.active = true;
            demoBooking.step = 0;
            demoBooking.data = { name: '', email: '', phone: '', company: '', service: '', message: '' };
            addMessage(demoSteps[0].question, 'bot');
        }
        window.startDemoBooking = startDemoBooking;
        
        function handleDemoBookingStep(userInput) {
            // Check if user wants to cancel
            if (userInput.toLowerCase() === 'cancel' || userInput.toLowerCase() === 'stop') {
                demoBooking.active = false;
                demoBooking.step = 0;
                addMessage("No problem! Demo booking cancelled. 👍\n\nHow else can I help you?", 'bot');
                return;
            }
            
            // Validate and save current step
            var currentStep = demoSteps[demoBooking.step];
            var isValid = validateInput(currentStep.field, userInput);
            
            if (!isValid.valid) {
                addMessage(isValid.message, 'bot');
                return;
            }
            
            // Save the input
            console.log('Saving field:', currentStep.field, 'value:', userInput);
            demoBooking.data[currentStep.field] = userInput;
            demoBooking.step++;
            
            // Check if all steps completed
            if (demoBooking.step >= demoSteps.length) {
                submitDemoBooking();
                return;
            }
            
            // Ask next question
            var nextQuestion = demoSteps[demoBooking.step].question;
            nextQuestion = nextQuestion.replace('{name}', demoBooking.data.name.split(' ')[0]);
            addMessage(nextQuestion, 'bot');
        }
        
        function validateInput(field, value) {
            value = value.trim();
            if (!value) {
                return { valid: false, message: "Please provide a valid response. 🙏" };
            }
            
            if (field === 'email') {
                var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailRegex.test(value)) {
                    return { valid: false, message: "Please enter a valid email address (e.g., name@example.com) 📧" };
                }
            }
            
            if (field === 'phone') {
                var phoneRegex = /^[\+]?[\d\s\-\(\)]{8,}$/;
                if (!phoneRegex.test(value)) {
                    return { valid: false, message: "Please enter a valid phone number with country code (e.g., +91 9876543210) 📱" };
                }
            }
            
            if (field === 'name') {
                if (value.length < 2) {
                    return { valid: false, message: "Please enter your full name. 👤" };
                }
                // Prevent demo-related keywords from being used as name
                var nameLower = value.toLowerCase();
                if (nameLower.includes('book') || nameLower.includes('demo') || nameLower.includes('same') || 
                    nameLower === 'hi' || nameLower === 'hello' || nameLower === 'hey') {
                    return { valid: false, message: "Please enter your actual name (first and last name). 👤" };
                }
            }
            
            return { valid: true };
        }
        
        function submitDemoBooking() {
            demoBooking.active = false;
            
            // Save data before async call
            var savedData = {
                name: demoBooking.data.name,
                email: demoBooking.data.email,
                phone: demoBooking.data.phone,
                company: demoBooking.data.company,
                service: demoBooking.data.service,
                message: demoBooking.data.message
            };

            // Show confirmation message
            addMessage("🎉 **Perfect!** Let me submit your demo request...", 'bot');

            // Reset booking data now (before async)
            demoBooking.step = 0;
            demoBooking.data = { name: '', email: '', phone: '', company: '', service: '', message: '' };

            // Send via backend API (handles both company notification and visitor email)
            fetch('/api/send-demo-confirmation', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    name: savedData.name,
                    email: savedData.email,
                    phone: savedData.phone,
                    company: savedData.company,
                    service: savedData.service,
                    message: savedData.message || 'None'
                })
            })
            .then(function(response) { 
                return response.json(); 
            })
            .then(function(data) {
                console.log('API response:', data);
                setTimeout(function() {
                    addMessage("✅ **Demo Booked Successfully!**\n\n📋 **Your Details:**\n• Name: " + savedData.name + "\n• Email: " + savedData.email + "\n• Phone: " + savedData.phone + "\n• Company: " + savedData.company + "\n• Service: " + savedData.service + "\n\n📧 A confirmation email has been sent to **" + savedData.email + "**!\n\n🕐 Our team will contact you within **24 hours** to schedule your demo.\n\n📞 Or call us directly:\n• India: +91 9027125341\n• Zambia: +260 977 588 581\n\nThank you for choosing GlobalTechAndTrade! 🙏", 'bot');
                }, 1000);
            })
            .catch(function(error) {
                console.error('Demo submission error:', error);
                setTimeout(function() {
                    addMessage("⚠️ There was an issue submitting your request. But don't worry!\n\n📧 Please email us directly at **info@globaltechandtrade.com** with your details, or call:\n📞 India: +91 9027125341\n📞 Zambia: +260 977 588 581\n\nWe apologize for the inconvenience!", 'bot');
                }, 1000);
            });
        }

        async function callGeminiAI(message) {
            var typing = document.getElementById('typing-indicator');
            
            try {
                var response = await fetch(GEMINI_API_URL + '?key=' + GEMINI_API_KEY, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{
                                text: companyContext + '\n\nUser question: ' + message + '\n\nProvide a helpful, concise response (max 100 words):'
                            }]
                        }],
                        generationConfig: {
                            temperature: 0.7,
                            maxOutputTokens: 150,
                            topP: 0.8,
                            topK: 40
                        },
                        safetySettings: [
                            { category: "HARM_CATEGORY_HARASSMENT", threshold: "BLOCK_NONE" },
                            { category: "HARM_CATEGORY_HATE_SPEECH", threshold: "BLOCK_NONE" },
                            { category: "HARM_CATEGORY_SEXUALLY_EXPLICIT", threshold: "BLOCK_NONE" },
                            { category: "HARM_CATEGORY_DANGEROUS_CONTENT", threshold: "BLOCK_NONE" }
                        ]
                    })
                });

                if (!response.ok) {
                    throw new Error('API response not ok: ' + response.status);
                }

                var data = await response.json();
                if (typing) typing.remove();

                if (data.candidates && data.candidates[0] && data.candidates[0].content) {
                    var aiResponse = data.candidates[0].content.parts[0].text;
                    addMessage(aiResponse, 'bot');
                } else if (data.error) {
                    console.error('Gemini API error:', data.error);
                    addMessage(getSmartFallback(message), 'bot');
                } else {
                    addMessage(getSmartFallback(message), 'bot');
                }
            } catch (error) {
                console.error('Gemini API error:', error);
                if (typing) typing.remove();
                addMessage(getSmartFallback(message), 'bot');
            }
        }
        
        function getSmartFallback(message) {
            var msg = message.toLowerCase();
            if (msg.includes('how are') || msg.includes('how r u') || msg.includes("how's it")) {
                return "I'm doing great, thank you for asking! 😊 I'm here to help you learn about GlobalTechAndTrade's services. What would you like to know?";
            }
            if (msg.includes('your name') || msg.includes('who are you')) {
                return "I'm GTT Assistant, the AI helper for GlobalTechAndTrade! 🤖 I can tell you about our IT solutions, import/export services, pricing, and more!";
            }
            if (msg.includes('joke') || msg.includes('funny')) {
                return "Why did the developer go broke? Because he used up all his cache! 😄 Now, how can I help you with our services?";
            }
            if (msg.includes('weather')) {
                return "I don't have weather data, but I can tell you it's always a great day to start a new project! ☀️ Want to know about our IT solutions?";
            }
            if (msg.includes('love') || msg.includes('like you')) {
                return "Aww, thank you! 😊 I'm here to help! Would you like to know about our services or book a free consultation?";
            }
            return "That's an interesting question! While I specialize in GlobalTechAndTrade info, I'm happy to chat. 😊\n\nCan I help you with:\n• **Services** we offer\n• **Pricing** information\n• **Contact** details\n• **Book** a free demo";
        }

        function addMessage(text, type) {
            var div = document.createElement('div');
            div.className = 'flex gap-2 ' + (type === 'user' ? 'justify-end' : '');
            if (type === 'bot') {
                var formattedText = text.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>').replace(/\n/g, '<br>');
                div.innerHTML = '<div class="w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0"><i class="fas fa-robot text-primary text-sm"></i></div><div class="bg-white rounded-2xl rounded-tl-none p-3 shadow-sm max-w-[80%]"><p class="text-sm text-slate-700">' + formattedText + '</p></div>';
            } else {
                div.innerHTML = '<div class="bg-primary text-white rounded-2xl rounded-tr-none p-3 shadow-sm max-w-[80%]"><p class="text-sm">' + text + '</p></div>';
            }
            chatMessages.appendChild(div);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function getResponse(message) {
            var msg = message.toLowerCase();
            
            // Services
            if (msg.includes('service') || msg.includes('offer') || msg.includes('what do you do') || msg.includes('help me')) return responses.services;
            
            // Mobile
            if (msg.includes('mobile') || msg.includes('app') || msg.includes('ios') || msg.includes('android') || msg.includes('flutter') || msg.includes('react native')) return responses.mobile;
            
            // Web
            if (msg.includes('web') || msg.includes('website') || msg.includes('site') || msg.includes('portal') || msg.includes('ecommerce') || msg.includes('e-commerce')) return responses.web;
            
            // Import/Export
            if (msg.includes('import') || msg.includes('export') || msg.includes('trade') || msg.includes('shipping') || msg.includes('freight') || msg.includes('customs') || msg.includes('logistics')) return responses.import;
            
            // Pricing
            if (msg.includes('price') || msg.includes('cost') || msg.includes('charge') || msg.includes('fee') || msg.includes('budget') || msg.includes('quote') || msg.includes('how much')) return responses.price;
            
            // Contact
            if (msg.includes('contact') || msg.includes('email') || msg.includes('phone') || msg.includes('call') || msg.includes('reach') || msg.includes('whatsapp')) return responses.contact;
            
            // Location
            if (msg.includes('location') || msg.includes('where') || msg.includes('office') || msg.includes('address') || msg.includes('india') || msg.includes('zambia') || msg.includes('africa')) return responses.location;
            
            // About
            if (msg.includes('about') || msg.includes('company') || msg.includes('who are') || msg.includes('tell me about')) return responses.about;
            
            // Timeline
            if (msg.includes('time') || msg.includes('long') || msg.includes('duration') || msg.includes('deadline') || msg.includes('when') || msg.includes('deliver')) return responses.timeline;
            
            // Technologies
            if (msg.includes('technology') || msg.includes('tech') || msg.includes('stack') || msg.includes('programming') || msg.includes('language')) return responses.tech;
            
            // Support
            if (msg.includes('support') || msg.includes('maintenance') || msg.includes('help') || msg.includes('after')) return responses.support;
            
            // Demo
            if (msg.includes('demo') || msg.includes('consult') || msg.includes('meeting') || msg.includes('book') || msg.includes('schedule') || msg.includes('talk')) return responses.demo;
            
            // Greetings
            if (msg.includes('hello')) return responses.hello;
            if (msg.includes('hey')) return responses.hey;
            if (msg === 'hi' || msg.includes('hi ') || msg.startsWith('hi')) return responses.hi;

            // Thanks
            if (msg.includes('thank') || msg.includes('thanks') || msg.includes('great') || msg.includes('awesome')) return responses.thank;

            // Bye
            if (msg.includes('bye') || msg.includes('goodbye') || msg.includes('see you')) return responses.bye;

            // For everything else, return null to trigger Gemini AI
            return null;
        }

        // Auto-open after 5 seconds on every page refresh
        setTimeout(function() {
            if (!isOpen) {
                openChat();
            }
        }, 5000);

        // Close chat function - exposed globally for header close button
        window.closeChat = function() {
            chatWindow.style.transform = 'scale(0)';
            chatBackdrop.classList.add('hidden');
            setTimeout(function() { chatWindow.style.display = 'none'; }, 300);
            iconOpen.classList.remove('hidden');
            iconClose.classList.add('hidden');
            isOpen = false;
        };

        // Close chat when clicking on backdrop
        chatBackdrop.addEventListener('click', function() {
            window.closeChat();
        });
    })();
    </script>

    <!-- ═══════════════════════════════════════════════════════════
         COOKIE CONSENT BANNER
    ═══════════════════════════════════════════════════════════ -->
    <div id="cookie-consent" class="fixed bottom-0 left-0 right-0 z-[55] bg-slate-900 text-white p-4 transform translate-y-full transition-transform duration-500" style="display: none;">
        <div class="max-w-7xl mx-auto flex flex-col sm:flex-row items-center justify-between gap-4">
            <div class="flex items-center gap-3">
                <i class="fas fa-cookie-bite text-2xl text-amber-400"></i>
                <p class="text-sm">
                    We use cookies to enhance your experience. By continuing to visit this site you agree to our use of cookies.
                    <a href="#" class="text-primary hover:underline ml-1">Learn more</a>
                </p>
            </div>
            <div class="flex gap-3">
                <button onclick="acceptCookies()" class="px-6 py-2 bg-primary hover:bg-blue-600 text-white text-sm font-bold rounded-lg transition-colors">
                    Accept
                </button>
                <button onclick="declineCookies()" class="px-6 py-2 bg-slate-700 hover:bg-slate-600 text-white text-sm font-bold rounded-lg transition-colors">
                    Decline
                </button>
            </div>
        </div>
    </div>

    <script>
        // Cookie Consent
        function acceptCookies() {
            localStorage.setItem('cookieConsent', 'accepted');
            document.getElementById('cookie-consent').style.transform = 'translateY(100%)';
            setTimeout(() => document.getElementById('cookie-consent').style.display = 'none', 500);
        }
        function declineCookies() {
            localStorage.setItem('cookieConsent', 'declined');
            document.getElementById('cookie-consent').style.transform = 'translateY(100%)';
            setTimeout(() => document.getElementById('cookie-consent').style.display = 'none', 500);
        }
        // Show cookie banner if not already answered
        if (!localStorage.getItem('cookieConsent')) {
            setTimeout(() => {
                const banner = document.getElementById('cookie-consent');
                banner.style.display = 'block';
                setTimeout(() => banner.style.transform = 'translateY(0)', 100);
            }, 2000);
        }
    </script>
</body>
</html>

